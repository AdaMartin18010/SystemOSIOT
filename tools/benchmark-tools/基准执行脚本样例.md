# 基准执行脚本样例（示意）

> 说明：以下示例为执行编排思路与参数清单，非可执行代码。建议落地为 Bash/PowerShell + Ansible/Terraform。

## 1. 前置

- 时间同步：NTP/PTP，固定频率与电源策略；记录 NUMA 拓扑。
- 依赖：iperf3, fio, sysbench, perf/bcc/bpftrace, esxcli/vCenter API。

## 2. CPU/内存

- sysbench cpu run --threads=N --time=60
- perf stat -e cycles,instructions,cache-misses -a -- sleep 60

## 3. 存储

- fio --name=randread --rw=randread --bs=4k --iodepth=64 --numjobs=4 --size=2G --runtime=120 --group_reporting

## 4. 网络

- `iperf3 -s / iperf3 -c <server> -P 8 -t 60`
- pktgen: 配置队列/速率，记录 PPS 与丢包

## 5. 容器/VM 场景

- docker run ... 限制 CPU/内存/cgroup
- 记录 vCPU 就绪/co-stop（vCenter 指标）

## 6. 结果聚合

- 统一输出为 JSON/CSV，带版本与标签；推送至 TSDB/对象存储。
