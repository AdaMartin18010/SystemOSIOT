# SystemOSIOTç³»ç»Ÿé›†æˆæµ‹è¯•æŒ‡å— / System Integration Testing Guide

```text
title: ç³»ç»Ÿé›†æˆæµ‹è¯•æŒ‡å—
description: SystemOSIOTé¡¹ç›®ç³»ç»Ÿé›†æˆæµ‹è¯•æ ‡å‡†å’Œæ–¹æ³•ï¼Œå»ºç«‹å®Œæ•´çš„æµ‹è¯•ä½“ç³»
author: SystemOSIOT Team
created: 2024-01-15
updated: 2024-01-15
version: 1.0.0
tags: [é›†æˆæµ‹è¯•, æµ‹è¯•ä½“ç³», è´¨é‡ä¿è¯]
```

## ğŸ“‘ ç›®å½• / Table of Contents

- [SystemOSIOTç³»ç»Ÿé›†æˆæµ‹è¯•æŒ‡å— / System Integration Testing Guide](#systemosiotç³»ç»Ÿé›†æˆæµ‹è¯•æŒ‡å—--system-integration-testing-guide)
  - [ğŸ“‘ ç›®å½• / Table of Contents](#-ç›®å½•--table-of-contents)
  - [ğŸ¯ æµ‹è¯•ç­–ç•¥æ¦‚è¿° / Testing Strategy Overview](#-æµ‹è¯•ç­–ç•¥æ¦‚è¿°--testing-strategy-overview)
    - [æµ‹è¯•ç›®æ ‡ / Testing Objectives](#æµ‹è¯•ç›®æ ‡--testing-objectives)
    - [æµ‹è¯•å±‚æ¬¡ / Testing Levels](#æµ‹è¯•å±‚æ¬¡--testing-levels)
  - [ğŸ—ï¸ æµ‹è¯•ç¯å¢ƒæ­å»º / Test Environment Setup](#ï¸-æµ‹è¯•ç¯å¢ƒæ­å»º--test-environment-setup)
    - [æµ‹è¯•ç¯å¢ƒæ¶æ„ / Test Environment Architecture](#æµ‹è¯•ç¯å¢ƒæ¶æ„--test-environment-architecture)
    - [ç¯å¢ƒé…ç½®æ ‡å‡† / Environment Configuration Standards](#ç¯å¢ƒé…ç½®æ ‡å‡†--environment-configuration-standards)
      - [Docker Composeé…ç½®](#docker-composeé…ç½®)
  - [ğŸ§ª æµ‹è¯•ç”¨ä¾‹è®¾è®¡ / Test Case Design](#-æµ‹è¯•ç”¨ä¾‹è®¾è®¡--test-case-design)
    - [åŠŸèƒ½æµ‹è¯•ç”¨ä¾‹ / Functional Test Cases](#åŠŸèƒ½æµ‹è¯•ç”¨ä¾‹--functional-test-cases)
      - [ç”¨æˆ·ç®¡ç†æ¨¡å—æµ‹è¯•](#ç”¨æˆ·ç®¡ç†æ¨¡å—æµ‹è¯•)
      - [è®¢å•å¤„ç†æ¨¡å—æµ‹è¯•](#è®¢å•å¤„ç†æ¨¡å—æµ‹è¯•)
    - [æ€§èƒ½æµ‹è¯•ç”¨ä¾‹ / Performance Test Cases](#æ€§èƒ½æµ‹è¯•ç”¨ä¾‹--performance-test-cases)
      - [è´Ÿè½½æµ‹è¯•](#è´Ÿè½½æµ‹è¯•)
  - [ğŸ¤– è‡ªåŠ¨åŒ–æµ‹è¯•æ¡†æ¶ / Automated Testing Framework](#-è‡ªåŠ¨åŒ–æµ‹è¯•æ¡†æ¶--automated-testing-framework)
    - [æµ‹è¯•æ¡†æ¶é…ç½® / Test Framework Configuration](#æµ‹è¯•æ¡†æ¶é…ç½®--test-framework-configuration)
      - [TestNGé…ç½®](#testngé…ç½®)
      - [è‡ªå®šä¹‰æµ‹è¯•ç›‘å¬å™¨](#è‡ªå®šä¹‰æµ‹è¯•ç›‘å¬å™¨)
    - [æµ‹è¯•æ•°æ®ç®¡ç† / Test Data Management](#æµ‹è¯•æ•°æ®ç®¡ç†--test-data-management)
      - [æµ‹è¯•æ•°æ®å·¥å‚](#æµ‹è¯•æ•°æ®å·¥å‚)
  - [ğŸ“Š æµ‹è¯•æ‰§è¡Œå’ŒæŠ¥å‘Š / Test Execution and Reporting](#-æµ‹è¯•æ‰§è¡Œå’ŒæŠ¥å‘Š--test-execution-and-reporting)
    - [æµ‹è¯•æ‰§è¡Œç­–ç•¥ / Test Execution Strategy](#æµ‹è¯•æ‰§è¡Œç­–ç•¥--test-execution-strategy)
      - [æµ‹è¯•æ‰§è¡Œè„šæœ¬](#æµ‹è¯•æ‰§è¡Œè„šæœ¬)
    - [æµ‹è¯•æŠ¥å‘Šç”Ÿæˆ / Test Report Generation](#æµ‹è¯•æŠ¥å‘Šç”Ÿæˆ--test-report-generation)
      - [AllureæŠ¥å‘Šé…ç½®](#allureæŠ¥å‘Šé…ç½®)
      - [è‡ªå®šä¹‰æŠ¥å‘Šæ¨¡æ¿](#è‡ªå®šä¹‰æŠ¥å‘Šæ¨¡æ¿)
  - [ğŸ”„ æŒç»­é›†æˆæµ‹è¯• / Continuous Integration Testing](#-æŒç»­é›†æˆæµ‹è¯•--continuous-integration-testing)
    - [CI/CDæµæ°´çº¿é…ç½® / CI/CD Pipeline Configuration](#cicdæµæ°´çº¿é…ç½®--cicd-pipeline-configuration)
      - [GitHub Actionsé…ç½®](#github-actionsé…ç½®)
      - [Jenkins Pipelineé…ç½®](#jenkins-pipelineé…ç½®)

## ğŸ¯ æµ‹è¯•ç­–ç•¥æ¦‚è¿° / Testing Strategy Overview

### æµ‹è¯•ç›®æ ‡ / Testing Objectives

- **åŠŸèƒ½éªŒè¯**: éªŒè¯ç³»ç»Ÿå„æ¨¡å—åŠŸèƒ½æ­£ç¡®æ€§
- **æ¥å£æµ‹è¯•**: æµ‹è¯•æ¨¡å—é—´æ¥å£çš„å…¼å®¹æ€§
- **æ€§èƒ½éªŒè¯**: éªŒè¯ç³»ç»Ÿæ€§èƒ½æŒ‡æ ‡
- **ç¨³å®šæ€§æµ‹è¯•**: æµ‹è¯•ç³»ç»Ÿé•¿æœŸè¿è¡Œç¨³å®šæ€§
- **å®‰å…¨æµ‹è¯•**: éªŒè¯ç³»ç»Ÿå®‰å…¨æ€§

### æµ‹è¯•å±‚æ¬¡ / Testing Levels

- **å•å…ƒæµ‹è¯•**: å•ä¸ªç»„ä»¶åŠŸèƒ½æµ‹è¯•
- **é›†æˆæµ‹è¯•**: ç»„ä»¶é—´åä½œæµ‹è¯•
- **ç³»ç»Ÿæµ‹è¯•**: å®Œæ•´ç³»ç»ŸåŠŸèƒ½æµ‹è¯•
- **éªŒæ”¶æµ‹è¯•**: ç”¨æˆ·éœ€æ±‚æ»¡è¶³åº¦æµ‹è¯•

## ğŸ—ï¸ æµ‹è¯•ç¯å¢ƒæ­å»º / Test Environment Setup

### æµ‹è¯•ç¯å¢ƒæ¶æ„ / Test Environment Architecture

```mermaid
graph TB
    subgraph "æµ‹è¯•ç¯å¢ƒ / Test Environment"
        A[æµ‹è¯•å®¢æˆ·ç«¯] --> B[è´Ÿè½½å‡è¡¡å™¨]
        B --> C[åº”ç”¨æœåŠ¡å™¨é›†ç¾¤]
        C --> D[æ•°æ®åº“é›†ç¾¤]
        C --> E[ç¼“å­˜é›†ç¾¤]
        C --> F[æ¶ˆæ¯é˜Ÿåˆ—]
        
        G[ç›‘æ§ç³»ç»Ÿ] --> C
        G --> D
        G --> E
        G --> F
        
        H[æµ‹è¯•æ•°æ®ç®¡ç†] --> D
        H --> E
    end
    
    subgraph "CI/CDæµæ°´çº¿ / CI/CD Pipeline"
        I[ä»£ç æäº¤] --> J[è‡ªåŠ¨æ„å»º]
        J --> K[è‡ªåŠ¨æµ‹è¯•]
        K --> L[éƒ¨ç½²æµ‹è¯•ç¯å¢ƒ]
        L --> M[é›†æˆæµ‹è¯•]
        M --> N[æµ‹è¯•æŠ¥å‘Š]
    end
```

### ç¯å¢ƒé…ç½®æ ‡å‡† / Environment Configuration Standards

#### Docker Composeé…ç½®

```yaml
# docker-compose.test.yml
version: '3.8'

services:
  app:
    build: .
    ports:
      - "8080:8080"
    environment:
      - SPRING_PROFILES_ACTIVE=test
      - DB_HOST=test-db
      - REDIS_HOST=test-redis
    depends_on:
      - test-db
      - test-redis
      - test-rabbitmq

  test-db:
    image: mysql:8.0
    environment:
      - MYSQL_ROOT_PASSWORD=testpass
      - MYSQL_DATABASE=testdb
    ports:
      - "3306:3306"
    volumes:
      - test-db-data:/var/lib/mysql

  test-redis:
    image: redis:6.2
    ports:
      - "6379:6379"
    volumes:
      - test-redis-data:/data

  test-rabbitmq:
    image: rabbitmq:3.9-management
    ports:
      - "5672:5672"
      - "15672:15672"
    environment:
      - RABBITMQ_DEFAULT_USER=testuser
      - RABBITMQ_DEFAULT_PASS=testpass

volumes:
  test-db-data:
  test-redis-data:
```

## ğŸ§ª æµ‹è¯•ç”¨ä¾‹è®¾è®¡ / Test Case Design

### åŠŸèƒ½æµ‹è¯•ç”¨ä¾‹ / Functional Test Cases

#### ç”¨æˆ·ç®¡ç†æ¨¡å—æµ‹è¯•

```java
@SpringBootTest
@AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)
class UserManagementIntegrationTest {
    
    @Autowired
    private UserService userService;
    
    @Autowired
    private UserRepository userRepository;
    
    @Test
    @Transactional
    void testUserRegistration() {
        // å‡†å¤‡æµ‹è¯•æ•°æ®
        UserRegistrationRequest request = new UserRegistrationRequest();
        request.setUsername("testuser");
        request.setEmail("test@example.com");
        request.setPassword("password123");
        
        // æ‰§è¡Œæµ‹è¯•
        UserResponse response = userService.registerUser(request);
        
        // éªŒè¯ç»“æœ
        assertNotNull(response);
        assertEquals("testuser", response.getUsername());
        assertEquals("test@example.com", response.getEmail());
        
        // éªŒè¯æ•°æ®åº“
        User savedUser = userRepository.findByUsername("testuser").orElse(null);
        assertNotNull(savedUser);
        assertTrue(savedUser.isEnabled());
    }
    
    @Test
    @Transactional
    void testUserLogin() {
        // å‡†å¤‡æµ‹è¯•æ•°æ®
        User user = createTestUser();
        userRepository.save(user);
        
        // æ‰§è¡Œæµ‹è¯•
        LoginRequest request = new LoginRequest();
        request.setUsername("testuser");
        request.setPassword("password123");
        
        LoginResponse response = userService.login(request);
        
        // éªŒè¯ç»“æœ
        assertNotNull(response);
        assertNotNull(response.getToken());
        assertTrue(response.isSuccess());
    }
    
    @Test
    @Transactional
    void testUserProfileUpdate() {
        // å‡†å¤‡æµ‹è¯•æ•°æ®
        User user = createTestUser();
        userRepository.save(user);
        
        // æ‰§è¡Œæµ‹è¯•
        ProfileUpdateRequest request = new ProfileUpdateRequest();
        request.setDisplayName("Updated Name");
        request.setBio("Updated bio");
        
        UserResponse response = userService.updateProfile(user.getId(), request);
        
        // éªŒè¯ç»“æœ
        assertEquals("Updated Name", response.getDisplayName());
        assertEquals("Updated bio", response.getBio());
    }
    
    private User createTestUser() {
        User user = new User();
        user.setUsername("testuser");
        user.setEmail("test@example.com");
        user.setPassword("encoded_password");
        user.setEnabled(true);
        return user;
    }
}
```

#### è®¢å•å¤„ç†æ¨¡å—æµ‹è¯•

```java
@SpringBootTest
class OrderProcessingIntegrationTest {
    
    @Autowired
    private OrderService orderService;
    
    @Autowired
    private PaymentService paymentService;
    
    @Autowired
    private InventoryService inventoryService;
    
    @MockBean
    private NotificationService notificationService;
    
    @Test
    void testOrderCreationAndProcessing() {
        // å‡†å¤‡æµ‹è¯•æ•°æ®
        OrderRequest orderRequest = createTestOrderRequest();
        
        // æ¨¡æ‹Ÿåº“å­˜æ£€æŸ¥
        when(inventoryService.checkAvailability(anyList()))
            .thenReturn(true);
        
        // æ¨¡æ‹Ÿæ”¯ä»˜å¤„ç†
        when(paymentService.processPayment(any(PaymentRequest.class)))
            .thenReturn(new PaymentResponse(true, "payment_123"));
        
        // æ‰§è¡Œæµ‹è¯•
        OrderResponse orderResponse = orderService.createOrder(orderRequest);
        
        // éªŒè¯ç»“æœ
        assertNotNull(orderResponse);
        assertEquals("PENDING", orderResponse.getStatus());
        
        // éªŒè¯è®¢å•å¤„ç†æµç¨‹
        verify(inventoryService).reserveInventory(anyList());
        verify(paymentService).processPayment(any(PaymentRequest.class));
        verify(notificationService).sendOrderConfirmation(any(Order.class));
    }
    
    @Test
    void testOrderCancellation() {
        // å‡†å¤‡æµ‹è¯•æ•°æ®
        Order order = createTestOrder();
        
        // æ‰§è¡Œæµ‹è¯•
        orderService.cancelOrder(order.getId(), "User request");
        
        // éªŒè¯ç»“æœ
        Order cancelledOrder = orderService.getOrder(order.getId());
        assertEquals("CANCELLED", cancelledOrder.getStatus());
        assertEquals("User request", cancelledOrder.getCancellationReason());
        
        // éªŒè¯åº“å­˜é‡Šæ”¾
        verify(inventoryService).releaseInventory(anyList());
        verify(notificationService).sendCancellationNotification(any(Order.class));
    }
    
    private OrderRequest createTestOrderRequest() {
        OrderRequest request = new OrderRequest();
        request.setUserId(1L);
        request.setItems(Arrays.asList(
            new OrderItemRequest(1L, 2),
            new OrderItemRequest(2L, 1)
        ));
        request.setShippingAddress("123 Test St, Test City");
        return request;
    }
    
    private Order createTestOrder() {
        Order order = new Order();
        order.setId(1L);
        order.setStatus("PENDING");
        order.setUserId(1L);
        return order;
    }
}
```

### æ€§èƒ½æµ‹è¯•ç”¨ä¾‹ / Performance Test Cases

#### è´Ÿè½½æµ‹è¯•

```java
@SpringBootTest
class LoadTestingIntegrationTest {
    
    @Autowired
    private TestRestTemplate restTemplate;
    
    @Test
    void testConcurrentUserRequests() throws InterruptedException {
        int numThreads = 100;
        int requestsPerThread = 10;
        CountDownLatch latch = new CountDownLatch(numThreads);
        AtomicInteger successCount = new AtomicInteger(0);
        AtomicInteger failureCount = new AtomicInteger(0);
        
        // åˆ›å»ºå¹¶å‘çº¿ç¨‹
        for (int i = 0; i < numThreads; i++) {
            new Thread(() -> {
                try {
                    for (int j = 0; j < requestsPerThread; j++) {
                        ResponseEntity<String> response = restTemplate
                            .getForEntity("/api/users", String.class);
                        
                        if (response.getStatusCode().is2xxSuccessful()) {
                            successCount.incrementAndGet();
                        } else {
                            failureCount.incrementAndGet();
                        }
                        
                        Thread.sleep(100); // è¯·æ±‚é—´éš”
                    }
                } catch (Exception e) {
                    failureCount.incrementAndGet();
                } finally {
                    latch.countDown();
                }
            }).start();
        }
        
        // ç­‰å¾…æ‰€æœ‰çº¿ç¨‹å®Œæˆ
        latch.await(60, TimeUnit.SECONDS);
        
        // éªŒè¯ç»“æœ
        int totalRequests = numThreads * requestsPerThread;
        assertEquals(totalRequests, successCount.get() + failureCount.get());
        
        // æˆåŠŸç‡åº”è¯¥å¤§äº95%
        double successRate = (double) successCount.get() / totalRequests * 100;
        assertTrue(successRate > 95.0, "æˆåŠŸç‡: " + successRate + "%");
    }
}
```

## ğŸ¤– è‡ªåŠ¨åŒ–æµ‹è¯•æ¡†æ¶ / Automated Testing Framework

### æµ‹è¯•æ¡†æ¶é…ç½® / Test Framework Configuration

#### TestNGé…ç½®

```xml
<!-- testng.xml -->
<!DOCTYPE suite SYSTEM "http://testng.org/testng-1.0.dtd">
<suite name="SystemOSIOT Integration Test Suite" parallel="methods" thread-count="4">
    
    <test name="User Management Tests">
        <classes>
            <class name="com.systemosiot.test.UserManagementIntegrationTest"/>
        </classes>
    </test>
    
    <test name="Order Processing Tests">
        <classes>
            <class name="com.systemosiot.test.OrderProcessingIntegrationTest"/>
        </classes>
    </test>
    
    <test name="Performance Tests">
        <classes>
            <class name="com.systemosiot.test.LoadTestingIntegrationTest"/>
        </classes>
    </test>
    
    <listeners>
        <listener class-name="com.systemosiot.test.CustomTestListener"/>
        <listener class-name="com.systemosiot.test.PerformanceTestListener"/>
    </listeners>
    
</suite>
```

#### è‡ªå®šä¹‰æµ‹è¯•ç›‘å¬å™¨

```java
public class CustomTestListener implements ITestListener {
    
    private static final Logger logger = LoggerFactory.getLogger(CustomTestListener.class);
    
    @Override
    public void onTestStart(ITestResult result) {
        logger.info("å¼€å§‹æµ‹è¯•: {} - {}", 
            result.getTestClass().getName(), 
            result.getMethod().getMethodName());
    }
    
    @Override
    public void onTestSuccess(ITestResult result) {
        logger.info("æµ‹è¯•é€šè¿‡: {} - {} (è€—æ—¶: {}ms)", 
            result.getTestClass().getName(),
            result.getMethod().getMethodName(),
            result.getEndMillis() - result.getStartMillis());
    }
    
    @Override
    public void onTestFailure(ITestResult result) {
        logger.error("æµ‹è¯•å¤±è´¥: {} - {} - åŸå› : {}", 
            result.getTestClass().getName(),
            result.getMethod().getMethodName(),
            result.getThrowable().getMessage());
    }
    
    @Override
    public void onTestSkipped(ITestResult result) {
        logger.warn("æµ‹è¯•è·³è¿‡: {} - {}", 
            result.getTestClass().getName(),
            result.getMethod().getMethodName());
    }
}
```

### æµ‹è¯•æ•°æ®ç®¡ç† / Test Data Management

#### æµ‹è¯•æ•°æ®å·¥å‚

```java
@Component
public class TestDataFactory {
    
    private final Faker faker = new Faker();
    
    public User createTestUser() {
        User user = new User();
        user.setUsername(faker.name().username());
        user.setEmail(faker.internet().emailAddress());
        user.setPassword(faker.internet().password());
        user.setDisplayName(faker.name().fullName());
        user.setEnabled(true);
        user.setCreatedAt(LocalDateTime.now());
        return user;
    }
    
    public Order createTestOrder() {
        Order order = new Order();
        order.setUserId(faker.number().numberBetween(1L, 1000L));
        order.setStatus("PENDING");
        order.setTotalAmount(new BigDecimal(faker.number().randomDouble(2, 10, 1000)));
        order.setCreatedAt(LocalDateTime.now());
        return order;
    }
    
    public Product createTestProduct() {
        Product product = new Product();
        product.setName(faker.commerce().productName());
        product.setDescription(faker.lorem().sentence());
        product.setPrice(new BigDecimal(faker.number().randomDouble(2, 1, 100)));
        product.setStockQuantity(faker.number().numberBetween(0, 1000));
        product.setActive(true);
        return product;
    }
    
    public List<User> createTestUsers(int count) {
        return IntStream.range(0, count)
            .mapToObj(i -> createTestUser())
            .collect(Collectors.toList());
    }
    
    public List<Order> createTestOrders(int count) {
        return IntStream.range(0, count)
            .mapToObj(i -> createTestOrder())
            .collect(Collectors.toList());
    }
}
```

## ğŸ“Š æµ‹è¯•æ‰§è¡Œå’ŒæŠ¥å‘Š / Test Execution and Reporting

### æµ‹è¯•æ‰§è¡Œç­–ç•¥ / Test Execution Strategy

#### æµ‹è¯•æ‰§è¡Œè„šæœ¬

```bash
#!/bin/bash
# é›†æˆæµ‹è¯•æ‰§è¡Œè„šæœ¬

echo "å¼€å§‹æ‰§è¡ŒSystemOSIOTé›†æˆæµ‹è¯•..."

# è®¾ç½®ç¯å¢ƒå˜é‡
export SPRING_PROFILES_ACTIVE=test
export TEST_DB_URL=jdbc:mysql://localhost:3306/testdb
export TEST_DB_USERNAME=testuser
export TEST_DB_PASSWORD=testpass

# å¯åŠ¨æµ‹è¯•ç¯å¢ƒ
echo "å¯åŠ¨æµ‹è¯•ç¯å¢ƒ..."
docker-compose -f docker-compose.test.yml up -d

# ç­‰å¾…æœåŠ¡å¯åŠ¨
echo "ç­‰å¾…æœåŠ¡å¯åŠ¨..."
sleep 30

# æ£€æŸ¥æœåŠ¡çŠ¶æ€
echo "æ£€æŸ¥æœåŠ¡çŠ¶æ€..."
if ! curl -f http://localhost:8080/actuator/health; then
    echo "æœåŠ¡å¯åŠ¨å¤±è´¥"
    exit 1
fi

# æ‰§è¡Œæµ‹è¯•
echo "æ‰§è¡Œé›†æˆæµ‹è¯•..."
mvn test -Dtest=IntegrationTestSuite -Dspring.profiles.active=test

# æ”¶é›†æµ‹è¯•ç»“æœ
echo "æ”¶é›†æµ‹è¯•ç»“æœ..."
if [ -d "target/surefire-reports" ]; then
    cp -r target/surefire-reports test-results/
fi

# ç”Ÿæˆæµ‹è¯•æŠ¥å‘Š
echo "ç”Ÿæˆæµ‹è¯•æŠ¥å‘Š..."
mvn surefire-report:report

# æ¸…ç†æµ‹è¯•ç¯å¢ƒ
echo "æ¸…ç†æµ‹è¯•ç¯å¢ƒ..."
docker-compose -f docker-compose.test.yml down

echo "é›†æˆæµ‹è¯•æ‰§è¡Œå®Œæˆ"
```

### æµ‹è¯•æŠ¥å‘Šç”Ÿæˆ / Test Report Generation

#### AllureæŠ¥å‘Šé…ç½®

```xml
<!-- pom.xml -->
<plugin>
    <groupId>io.qameta.allure</groupId>
    <artifactId>allure-maven</artifactId>
    <version>2.12.0</version>
    <configuration>
        <reportVersion>2.20.1</reportVersion>
        <resultsDirectory>${project.build.directory}/allure-results</resultsDirectory>
        <reportDirectory>${project.build.directory}/allure-report</reportDirectory>
    </configuration>
</plugin>
```

#### è‡ªå®šä¹‰æŠ¥å‘Šæ¨¡æ¿

```java
@Component
public class TestReportGenerator {
    
    public void generateCustomReport(List<TestResult> results) {
        // ç”ŸæˆHTMLæŠ¥å‘Š
        String htmlReport = generateHtmlReport(results);
        
        // ç”ŸæˆJSONæŠ¥å‘Š
        String jsonReport = generateJsonReport(results);
        
        // ç”ŸæˆPDFæŠ¥å‘Š
        generatePdfReport(results);
        
        // ä¿å­˜æŠ¥å‘Š
        saveReports(htmlReport, jsonReport);
    }
    
    private String generateHtmlReport(List<TestResult> results) {
        StringBuilder html = new StringBuilder();
        html.append("<!DOCTYPE html><html><head><title>æµ‹è¯•æŠ¥å‘Š</title></head><body>");
        html.append("<h1>SystemOSIOTé›†æˆæµ‹è¯•æŠ¥å‘Š</h1>");
        
        // ç»Ÿè®¡ä¿¡æ¯
        long totalTests = results.size();
        long passedTests = results.stream().filter(r -> r.isSuccess()).count();
        long failedTests = totalTests - passedTests;
        
        html.append("<h2>æµ‹è¯•ç»Ÿè®¡</h2>");
        html.append("<p>æ€»æµ‹è¯•æ•°: ").append(totalTests).append("</p>");
        html.append("<p>é€šè¿‡: ").append(passedTests).append("</p>");
        html.append("<p>å¤±è´¥: ").append(failedTests).append("</p>");
        html.append("<p>æˆåŠŸç‡: ").append(String.format("%.2f", (double)passedTests/totalTests*100)).append("%</p>");
        
        // è¯¦ç»†ç»“æœ
        html.append("<h2>è¯¦ç»†ç»“æœ</h2>");
        html.append("<table border='1'><tr><th>æµ‹è¯•åç§°</th><th>çŠ¶æ€</th><th>è€—æ—¶</th><th>é”™è¯¯ä¿¡æ¯</th></tr>");
        
        for (TestResult result : results) {
            html.append("<tr>");
            html.append("<td>").append(result.getTestName()).append("</td>");
            html.append("<td>").append(result.isSuccess() ? "é€šè¿‡" : "å¤±è´¥").append("</td>");
            html.append("<td>").append(result.getDuration()).append("ms</td>");
            html.append("<td>").append(result.getErrorMessage() != null ? result.getErrorMessage() : "").append("</td>");
            html.append("</tr>");
        }
        
        html.append("</table></body></html>");
        return html.toString();
    }
}
```

## ğŸ”„ æŒç»­é›†æˆæµ‹è¯• / Continuous Integration Testing

### CI/CDæµæ°´çº¿é…ç½® / CI/CD Pipeline Configuration

#### GitHub Actionsé…ç½®

```yaml
# .github/workflows/integration-test.yml
name: Integration Tests

on:
  push:
    branches: [ main, develop ]
  pull_request:
    branches: [ main, develop ]

jobs:
  integration-test:
    runs-on: ubuntu-latest
    
    services:
      mysql:
        image: mysql:8.0
        env:
          MYSQL_ROOT_PASSWORD: root
          MYSQL_DATABASE: testdb
        ports:
          - 3306:3306
        options: --health-cmd="mysqladmin ping" --health-interval=10s --health-timeout=5s --health-retries=3
      
      redis:
        image: redis:6.2
        ports:
          - 6379:6379
        options: --health-cmd="redis-cli ping" --health-interval=10s --health-timeout=5s --health-retries=3
    
    steps:
    - uses: actions/checkout@v3
    
    - name: Set up JDK 11
      uses: actions/setup-java@v3
      with:
        java-version: '11'
        distribution: 'temurin'
    
    - name: Cache Maven packages
      uses: actions/cache@v3
      with:
        path: ~/.m2
        key: ${{ runner.os }}-m2-${{ hashFiles('**/pom.xml') }}
        restore-keys: ${{ runner.os }}-m2
    
    - name: Run integration tests
      run: mvn clean test -Dtest=IntegrationTestSuite
    
    - name: Generate test report
      run: mvn surefire-report:report
    
    - name: Upload test results
      uses: actions/upload-artifact@v3
      with:
        name: test-results
        path: target/surefire-reports/
    
    - name: Upload test report
      uses: actions/upload-artifact@v3
      with:
        name: test-report
        path: target/site/
```

#### Jenkins Pipelineé…ç½®

```groovy
// Jenkinsfile
pipeline {
    agent any
    
    environment {
        JAVA_HOME = tool 'JDK11'
        MAVEN_HOME = tool 'Maven3.8'
    }
    
    stages {
        stage('Checkout') {
            steps {
                checkout scm
            }
        }
        
        stage('Build') {
            steps {
                sh "${MAVEN_HOME}/bin/mvn clean compile"
            }
        }
        
        stage('Unit Tests') {
            steps {
                sh "${MAVEN_HOME}/bin/mvn test"
            }
            post {
                always {
                    junit '**/target/surefire-reports/*.xml'
                }
            }
        }
        
        stage('Integration Tests') {
            steps {
                sh "${MAVEN_HOME}/bin/mvn test -Dtest=IntegrationTestSuite"
            }
            post {
                always {
                    junit '**/target/surefire-reports/*.xml'
                    publishHTML([
                        allowMissing: false,
                        alwaysLinkToLastBuild: true,
                        keepAll: true,
                        reportDir: 'target/site',
                        reportFiles: 'index.html',
                        reportName: 'Test Report'
                    ])
                }
            }
        }
        
        stage('Deploy to Test Environment') {
            when {
                branch 'develop'
            }
            steps {
                sh "docker-compose -f docker-compose.test.yml up -d"
                sh "sleep 30"
                sh "curl -f http://localhost:8080/actuator/health"
            }
        }
    }
    
    post {
        always {
            cleanWs()
        }
        success {
            echo 'Pipeline executed successfully!'
        }
        failure {
            echo 'Pipeline execution failed!'
        }
    }
}
```

---

> æœ¬ç³»ç»Ÿé›†æˆæµ‹è¯•æŒ‡å—ä¸ºSystemOSIOTé¡¹ç›®æä¾›å®Œæ•´çš„æµ‹è¯•ä½“ç³»å’Œè´¨é‡ä¿è¯ï¼Œç¡®ä¿ç³»ç»Ÿç¨³å®šæ€§å’Œå¯é æ€§ã€‚
> This system integration testing guide provides a complete testing system and quality assurance for the SystemOSIOT project, ensuring system stability and reliability.
